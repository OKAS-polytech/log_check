# 要件定義書

## 1. 目的
本アプリケーションは、ユーザーが指定した複数のテキストファイル内から、複数のキーワードを高速かつ効率的に検索することを目的とする。また、検索アルゴリズムの学習用途として、複数の異なる探索手法を選択・比較できる機能を提供する。

## 2. 対象ユーザー
- 大量のテキストデータから特定の情報を抽出したいユーザー
- 文字列探索アルゴリズムの挙動や性能に興味がある学習者・開発者

## 3. 機能要件
### 3.1 ファイル入力機能
- 複数のファイルをドラッグ＆ドロップで一括入力できること。
- テキストファイル（.txt）、Wordファイル（.docx）、およびバイナリファイルをサポートすること。
- ディレクトリ内の複数ファイルを対象にできること。

### 3.2 検索キーワード設定機能
- 複数の検索キーワードを同時に入力できること。
- 検索キーワードを CSV ファイルから一括で読み込めること。

### 3.3 検索アルゴリズム選択機能
以下のアルゴリズムを選択できること：
1. **Naive Search**: 単純な力まかせ探索。
2. **Boyer-Moore (BM)**: 後方一致を利用した高速探索。
3. **KMP (Knuth-Morris-Pratt)**: 部分一致テーブルを利用した探索。
4. **Aho-Corasick**: 複数パターンを一度に探索可能なオートマトン。
5. **Bitap (Fuzzy Search)**: 編集距離（レーベンシュタイン距離）を許容するあいまい探索。

### 3.4 検索実行・結果表示機能
- 選択されたアルゴリズムを用いて、全対象ファイルからキーワードを検索すること。
- 検索結果（ファイル名、キーワード、出現回数、出現位置、編集距離）を一覧表示すること。
- 各アルゴリズムの実行時間や対象ファイルサイズを表示すること。

### 3.5 結果出力機能
- 検索結果を CSV 形式でエクスポートできること。
- 検索結果を Excel 形式（.xlsx）でエクスポートできること。

### 3.6 パフォーマンス補助機能
- アプリケーション起動時にベンチマークを実行し、現在の環境での検索時間を推定すること。
- 大容量ファイル（50MB以上）に対してはストリーミング読み込みを行い、メモリ消費を抑えること。
- 探索中にはプログレスバーを表示し、進行状況を可視化すること。

## 4. 非機能要件
### 4.1 ユーザビリティ
- 直感的に操作可能な GUI（tkinter）を提供すること。
- 処理の目安時間を提供し、ユーザーの待ち時間の不安を軽減すること。

### 4.2 拡張性・保守性
- クリーンアーキテクチャを採用し、アルゴリズムの追加や UI の変更が容易であること。
- 探索ロジックと UI、ファイルアクセスを疎結合に保つこと。

### 4.3 実行環境
- Python 3.x 環境で動作すること。
- OS 標準の UI ライブラリ（tkinter）をベースにすること。
